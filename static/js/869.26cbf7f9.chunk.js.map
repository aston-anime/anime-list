{"version":3,"file":"static/js/869.26cbf7f9.chunk.js","mappings":"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","sources":["webpack://anime-list/./src/pages/Log-in/Log-in.module.css?4612","pages/Log-in/Log-in.tsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"form\":\"Log-in_form__zioS9\",\"container\":\"Log-in_container__40qSC\",\"btn\":\"Log-in_btn__nAgS0\",\"loginError\":\"Log-in_loginError__kYpFM\",\"passwordError\":\"Log-in_passwordError__SR4l9\"};","import {useState, ChangeEvent, FormEvent, useContext} from 'react';\nimport cn from 'classnames';\nimport {useNavigate} from 'react-router';\nimport {AppRoute} from '../../routing/AppRoute';\nimport {logIn, setUser} from '../../store/auth/auth';\nimport {useAppDispatch} from '../../hooks';\nimport {ThemeContext} from '../../services/theme/ThemeProvider';\nimport {LocalStorageUtil} from '../../utils/LocalStorageUtil';\nimport styles from './Log-in.module.css';\n\nfunction LogIn() {\n    const navigate = useNavigate();\n    const dispatch = useAppDispatch();\n    const {theme} = useContext(ThemeContext);\n\n    const [userName, setUserName] = useState('');\n    const [password, setPassword] = useState('');\n\n    const [invalidLogin, setInvalidLogin] = useState(false);\n    const [invalidPassword, setInvalidPassword] = useState(false);\n\n    const handleUserNameChange = (e: ChangeEvent<HTMLInputElement>) => {\n        setUserName(e.target.value);\n        if (invalidLogin) setInvalidLogin(false);\n    };\n\n    const handlePasswordChange = (e: ChangeEvent<HTMLInputElement>) => {\n        setPassword(e.currentTarget.value);\n        if (invalidPassword) setInvalidPassword(false);\n    };\n\n    const handleSubmit = (e: FormEvent<HTMLFormElement>) => {\n        e.preventDefault();\n\n        const userInfo = LocalStorageUtil.getItem(userName);\n\n        if (!userInfo) {\n            setInvalidLogin(true);\n        } else if (JSON.parse(userInfo).password !== password) {\n            setInvalidPassword(true);\n        } else {\n            dispatch(logIn());\n            dispatch(setUser(JSON.parse(userInfo).userName));\n            navigate(AppRoute.Main);\n            LocalStorageUtil.setItem(\n                userName,\n                JSON.stringify({...JSON.parse(userInfo), auth: true})\n            );\n        }\n    };\n\n    return (\n        <form className={`${styles.form} border-primary`} action=\"#\" onSubmit={handleSubmit}>\n            <div className={`${styles.container} card border-primary `}>\n                <div className={cn('form-group', {[styles.loginError]: invalidLogin})}>\n                    <label\n                        htmlFor=\"userName\"\n                        className={cn('form-label mt-4', {'text-dark': theme === 'light'})}\n                    >\n                        User name\n                    </label>\n                    <input\n                        type=\"userName\"\n                        className=\"form-control\"\n                        id=\"userName\"\n                        name=\"userName\"\n                        aria-describedby=\"userNameHelp\"\n                        placeholder=\"Enter userName\"\n                        value={userName}\n                        required\n                        onChange={handleUserNameChange}\n                    />\n                </div>\n                <div className={cn('form-group', {[styles.passwordError]: invalidPassword})}>\n                    <label\n                        htmlFor=\"password\"\n                        className={cn('form-label mt-4', {'text-dark': theme === 'light'})}\n                    >\n                        Password\n                    </label>\n                    <input\n                        type=\"password\"\n                        className=\"form-control\"\n                        id=\"password\"\n                        name=\"password\"\n                        placeholder=\"Password\"\n                        value={password}\n                        required\n                        onChange={handlePasswordChange}\n                    />\n                </div>\n                <button\n                    className={cn(\n                        'btn',\n                        styles.btn,\n                        {\n                            'btn-success': theme === 'dark',\n                        },\n                        {\n                            'btn-primary': theme === 'light',\n                        }\n                    )}\n                    type=\"submit\"\n                >\n                    Log in\n                </button>\n            </div>\n        </form>\n    );\n}\n\nexport {LogIn};\n"],"names":["LogIn","navigate","useNavigate","dispatch","useAppDispatch","theme","useContext","ThemeContext","_useState","useState","_useState2","_slicedToArray","userName","setUserName","_useState3","_useState4","password","setPassword","_useState5","_useState6","invalidLogin","setInvalidLogin","_useState7","_useState8","invalidPassword","setInvalidPassword","_jsx","className","concat","styles","form","action","onSubmit","e","preventDefault","userInfo","LocalStorageUtil","getItem","JSON","parse","logIn","setUser","AppRoute","Main","setItem","stringify","_objectSpread","auth","children","_jsxs","container","cn","_defineProperty","loginError","htmlFor","type","id","name","placeholder","value","required","onChange","target","passwordError","currentTarget","btn"],"sourceRoot":""}