"use strict";(self.webpackChunkanime_list=self.webpackChunkanime_list||[]).push([[848],{9296:function(e,t,r){r.d(t,{C:function(){return d}});var a=r(9439),n=r(2791),i=r(7689),s={card:"Card_card__-SwHU",img_wrp:"Card_img_wrp__w6RzI",img:"Card_img__8Ehvv",card_body:"Card_card_body__xpDzb",card_characteristics:"Card_card_characteristics__wNOHp",ranking:"Card_ranking__dOgZk",ranking_star:"Card_ranking_star__gD4Zt",episodes:"Card_episodes__eyqo9",title:"Card_title__A6GVy",view_btn:"Card_view_btn__8AoZW",favorite:"Card_favorite__mfXCn",favoriteButton:"Card_favoriteButton__-ELin"},c=r(184);function o(e){var t=e.id,r=e.title,o=e.image,l=e.ranking,d=e.episodes,u=e.setFavoritesAnime,m=void 0===u?function(){}:u,p=(0,i.s0)(),h=(0,n.useState)(!!localStorage.getItem(JSON.stringify(t))),_=(0,a.Z)(h,2),f=_[0],v=_[1];return(0,c.jsxs)("article",{className:"".concat(s.card," card border-primary"),children:[(0,c.jsx)("button",{className:"".concat(s.favoriteButton," ").concat(f?s.favorite:""),type:"button",onClick:function(){return function(e){if(f)return delete localStorage[JSON.stringify(e)],v(!1),void m(Object.values(localStorage).map((function(e){return JSON.parse(e)})));localStorage.setItem(JSON.stringify(t),JSON.stringify({id:t,title:r,image:o,ranking:l,episodes:d}))}(t)},children:(0,c.jsx)("svg",{width:"23",height:"20",viewBox:"0 0 23 20",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:(0,c.jsx)("path",{d:"M20.3807 2.59133C19.8676 2.08683 19.2583 1.68663 18.5878 1.41358C17.9172 1.14054 17.1985 1 16.4727 1C15.7468 1 15.0281 1.14054 14.3576 1.41358C13.687 1.68663 13.0778 2.08683 12.5646 2.59133L11.4997 3.63785L10.4348 2.59133C9.39834 1.57276 7.99258 1.00053 6.52679 1.00053C5.06099 1.00053 3.65523 1.57276 2.61876 2.59133C1.58229 3.6099 1 4.99139 1 6.43187C1 7.87235 1.58229 9.25383 2.61876 10.2724L3.68367 11.3189L11.4997 19L19.3158 11.3189L20.3807 10.2724C20.8941 9.76814 21.3013 9.16942 21.5791 8.51045C21.857 7.85148 22 7.14517 22 6.43187C22 5.71857 21.857 5.01225 21.5791 4.35328C21.3013 3.69431 20.8941 3.09559 20.3807 2.59133Z",fill:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"})})}),(0,c.jsx)("div",{className:s.img_wrp,children:(0,c.jsx)("img",{className:s.img,src:o,alt:r})}),(0,c.jsxs)("div",{className:s.card_body,children:[(0,c.jsxs)("div",{className:s.card_characteristics,children:[(0,c.jsxs)("div",{className:s.ranking,children:[(0,c.jsx)("svg",{className:s.ranking_star,viewBox:"0 0 1024 1024",height:"1em",width:"1em",children:(0,c.jsx)("path",{d:"M908.1 353.1l-253.9-36.9L540.7 86.1c-3.1-6.3-8.2-11.4-14.5-14.5-15.8-7.8-35-1.3-42.9 14.5L369.8 316.2l-253.9 36.9c-7 1-13.4 4.3-18.3 9.3a32.05 32.05 0 00.6 45.3l183.7 179.1-43.4 252.9a31.95 31.95 0 0046.4 33.7L512 754l227.1 119.4c6.2 3.3 13.4 4.4 20.3 3.2 17.4-3 29.1-19.5 26.1-36.9l-43.4-252.9 183.7-179.1c5-4.9 8.3-11.3 9.3-18.3 2.7-17.5-9.5-33.7-27-36.3z"})}),(0,c.jsx)("div",{children:l})]}),(0,c.jsxs)("div",{className:s.episodes,children:[d," episodes"]})]}),(0,c.jsx)("h2",{className:s.title,children:r})]}),(0,c.jsx)("button",{type:"button",className:"".concat(s.view_btn," btn btn-primary"),onClick:function(){p("/anime-list/detailed-item/".concat(t))},children:"View more"})]})}var l={wrapper:"CardList_wrapper__wb2Tq"};function d(e){var t=e.cards,r=e.setFavoritesAnime,a=null===t||void 0===t?void 0:t.map((function(e){return(0,c.jsx)("li",{children:(0,c.jsx)(o,{id:e.id,title:e.title,image:e.image,ranking:e.ranking,episodes:e.episodes,setFavoritesAnime:r})},e.id)}));return(0,c.jsx)("ul",{className:l.wrapper,children:a})}d.defaultProps={cards:null}},4775:function(e,t,r){r.d(t,{E:function(){return v}});var a=r(9439),n=r(2791),i=r(7689),s=r(763),c=function(e,t){return e&&t?t.filter((function(t){return t.title.toLowerCase().includes(e.toLowerCase())})):null},o=r(3433),l=function(e,t,r){if(""!==t){var a="searchHistory_".concat(e),n=JSON.parse(localStorage.getItem(a)||"[]"),i=[{query:t,timestamp:(new Date).toLocaleString(),queryResultNumber:(null===r||void 0===r?void 0:r.length)||0,queryResultLink:"/anime-list/search/?query=".concat(encodeURIComponent(t))}].concat((0,o.Z)(n));localStorage.setItem(a,JSON.stringify(i))}},d=r(5405),u=r(607),m=r(1694),p=r.n(m),h=r(184);function _(e){var t=e.input,r=e.results,a=e.maxResults,n=null===r||void 0===r?void 0:r.slice(0,a);return(0,h.jsx)("div",{className:p()("search-results-list__wrp","dropdown-menu",{show:!!t}),style:{marginTop:"10px"},children:null===n||void 0===n?void 0:n.map((function(e){return(0,h.jsx)("a",{href:"/anime-list/detailed-item/".concat(e.id),className:"dropdown-item",children:e.title},e.id)}))})}var f={wrapper:"SearchBar_wrapper__KGK67",input:"SearchBar_input__bIy50"};function v(e){var t=e.data,r=(0,n.useState)(""),o=(0,a.Z)(r,2),m=o[0],p=o[1],v=(0,n.useState)(null),g=(0,a.Z)(v,2),C=g[0],x=g[1],w=(0,d.C)(u.v),b=(0,i.s0)(),j=(0,s.debounce)((function(e){var r=c(e,t);x(r)}),300);return(0,h.jsxs)("div",{children:[(0,h.jsxs)("form",{onSubmit:function(e){e.preventDefault(),x(null);var r=e.target.search.value,a=c(r,t);w&&l(w,r,a),b("/anime-list/search/?query=".concat(r,"&results=").concat(encodeURIComponent(JSON.stringify(a))))},className:f.wrapper,children:[(0,h.jsx)("input",{type:"search",value:m,className:f.input,placeholder:"Search...",name:"search",autoComplete:"off",onChange:function(e){var t=e.target.value;p(t),j(t)}}),(0,h.jsx)("button",{type:"submit",className:"btn btn-secondary my-2 my-sm-0",children:"Search"})]}),m&&(0,h.jsx)(_,{input:m,results:C,maxResults:5})]})}v.defaultProps={data:null}},4028:function(e,t,r){r.d(t,{z:function(){return o}});var a=r(4165),n=r(5861),i=r(9439),s=r(2791),c={method:"GET",headers:{"X-RapidAPI-Key":"9ef920492cmsh06da1f517ac850bp15fe5ajsncf451d92f610","X-RapidAPI-Host":"anime-db.p.rapidapi.com"}},o=function(e,t){var r=(0,s.useState)(null),o=(0,i.Z)(r,2),l=o[0],d=o[1];return(0,s.useEffect)((function(){var r=function(){var r=(0,n.Z)((0,a.Z)().mark((function r(){var n,i;return(0,a.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,fetch(e,c);case 3:return n=r.sent,r.next=6,n.json();case 6:i=r.sent,r.t0=t,r.next="main"===r.t0||"search"===r.t0?10:"datailed-page"===r.t0?12:14;break;case 10:return d(i.data),r.abrupt("break",15);case 12:return d(i),r.abrupt("break",15);case 14:return r.abrupt("break",15);case 15:r.next=20;break;case 17:r.prev=17,r.t1=r.catch(0),console.log("error",r.t1);case 20:case"end":return r.stop()}}),r,null,[[0,17]])})));return function(){return r.apply(this,arguments)}}();r()}),[]),l}},9848:function(e,t,r){r.r(t),r.d(t,{Search:function(){return d}});var a=r(7689),n=r(9296),i=r(4775),s=r(4028),c=r(4779),o={container:"Search_container__xaI+z",title:"Search_title__ZPO6U"},l=r(184);function d(){var e,t=(0,s.z)("https://anime-db.p.rapidapi.com/anime?page=1&size=20&search=Fullmetal&genres=Fantasy%2CDrama&sortBy=ranking&sortOrder=asc","search"),r=(0,c._)(t),d=(0,a.TH)(),u=new URLSearchParams(d.search).get("query"),m=new URLSearchParams(d.search).get("results"),p=m?JSON.parse(decodeURIComponent(m)):[];return e=!r?"Loading...":null===u||0===u.length||0===p.length?"No matching Anime...":"Search Results:",(0,l.jsxs)("div",{className:o.container,children:[(0,l.jsx)(i.E,{data:r}),(0,l.jsx)("h4",{className:o.title,children:e}),(0,l.jsx)(n.C,{cards:p})]})}},4779:function(e,t,r){r.d(t,{_:function(){return s}});var a=r(1413),n=r(4925),i=["_id"],s=function(e){return null===e||void 0===e?void 0:e.map((function(e){var t=e._id,r=(0,n.Z)(e,i);return(0,a.Z)((0,a.Z)({},r),{},{id:t})}))}}}]);
//# sourceMappingURL=848.8860ac03.chunk.js.map